webpackJsonp([5],{Wb5n:function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var i=e("7t+N"),s=e.n(i),d={name:"Mypage",data:function(){return{type:"",tActive:"traded"===this.$route.params.type?"active":"",uActive:"uploaded"===this.$route.params.type?"active":"",myDataList:[]}},beforeCreate:function(){var t=this;this.$store.dispatch("certifyAccess",{accessToken:localStorage.getItem("access_token")}).then(function(a){try{a.data.result||t.$router.push("/")}catch(a){t.$router.push("/")}}).catch(function(a){return t.$router.push("/")})},created:function(){this.type=this.$route.params.type,"traded"==this.type?this.getTradedDataList():this.getUploadedDataList()},computed:{getCate:function(){this.type=this.$route.params.type,"traded"==this.type?this.getTradedDataList():this.getUploadedDataList()}},watch:{$route:function(t,a){"uploaded"==t.params.type?(this.tActive="",this.uActive="active"):(this.tActive="active",this.uActive=""),s()("[detailTbl]").each(function(){s()(this).hide()}),this.type=t.params.type}},methods:{getTradedDataList:function(){var t=this;this.$http.post("/api/getTradedDataList",{account:"bob"}).then(function(a){"OK"==a.data.result?t.myDataList=a.data.rows:"NONE"==a.data.result&&(t.myDataList=[])}).catch(function(t){alert("Get traded data failed")})},getUploadedDataList:function(){var t=this;this.$http.post("/api/getUploadedDataList",{account:"alice"}).then(function(a){"OK"==a.data.result?t.myDataList=a.data.rows:"NONE"==a.data.result&&(t.myDataList=[])}).catch(function(t){alert("Get traded data failed")})},uploadDataRemove:function(t){var a=this;this.$http.post("/api/uploadDataRemove",{provider:"alice",dataid:t}).then(function(t){alert(t.data.message+"\t"+a.type),a.$router.push("/mypageData/"+a.type)}).catch(function(t){alert("Get remove data failed")})},download:function(t){var a="http://220.75.229.132:8080/ipfs/"+t;s()("#fileDown").attr("src",a)},detail:function(t){s()("[detailTbl]").each(function(){s()(this).hide()}),s()("#details_"+t).show()}}},c={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"content"},[e("div",{staticClass:"content-in"},[e("h2",{staticClass:"page-tit"},[t._v("My Page")]),t._v(" "),e("ul",{staticClass:"tab type02"},[e("li",{staticClass:"active"},[e("router-link",{attrs:{to:{name:"MypageData",params:{type:"traded"}}}},[t._v("My Data")])],1),t._v(" "),e("li",[e("router-link",{attrs:{to:{name:"MypageTransactions"}}},[t._v("Transactions")])],1)]),t._v(" "),e("section",{staticClass:"box"},[e("ul",{staticClass:"tab"},[e("li",{class:{active:t.tActive}},[e("router-link",{attrs:{to:{name:"MypageData",params:{type:"traded"}}}},[t._v("Traded")])],1),t._v(" "),e("li",{class:{active:t.uActive}},[e("router-link",{attrs:{to:{name:"MypageData",params:{type:"uploaded"}}}},[t._v("Uploaded")])],1)]),t._v(" "),t._l(t.myDataList,function(a,i){return t.myDataList.length>0?e("div",{staticClass:"tbl skyblue"},[e("table",[e("caption",[t._v("기본 정보")]),t._v(" "),e("colgroup",[e("col",{staticStyle:{width:"20%"}}),t._v(" "),"traded"==t.type?e("col",{staticStyle:{width:"10%"}}):t._e(),t._v(" "),e("col",{staticStyle:{width:"14%"}}),t._v(" "),e("col",{staticStyle:{width:"7%"}}),t._v(" "),e("col",{staticStyle:{width:"12%"}}),t._v(" "),e("col",{staticStyle:{width:"12%"}}),t._v(" "),e("col",{staticStyle:{width:"10%"}}),t._v(" "),e("col",{staticStyle:{width:"10%"}}),t._v(" "),e("col",{staticStyle:{width:"*"}})]),t._v(" "),e("thead",[e("tr",[e("th",[t._v("Type")]),t._v(" "),"traded"==t.type?e("th",[t._v("Provider")]):t._e(),t._v(" "),e("th",[t._v("DateTime")]),t._v(" "),e("th",[t._v("Price(OSB)")]),t._v(" "),e("th",[t._v("Traded")]),t._v(" "),e("th",[t._v("Traded Date")]),t._v(" "),e("th",[t._v("Status")]),t._v(" "),e("th",{attrs:{colspan:"2"}})])]),t._v(" "),e("tbody",[e("tr",[e("td",[t._v(t._s(a.type))]),t._v(" "),"traded"==t.type?e("td",[t._v(t._s(a.provider))]):t._e(),t._v(" "),e("td",[t._v(t._s(a.provDatetime))]),t._v(" "),e("td",[t._v(t._s(a.price))]),t._v(" "),e("td",[t._v(t._s(a.traded))]),t._v(" "),e("td",[t._v(t._s(a.tradDatetime))]),t._v(" "),e("td",[t._v(t._s(a.status))]),t._v(" "),e("td",["traded"==t.type?e("button",{staticClass:"btn small bg-blue",on:{click:function(e){return t.download(a.ipfs)}}},[t._v("Download")]):t._e(),t._v(" "),"uploaded"==t.type&&"off sale"==a.status?e("button",{staticClass:"btn small bg-blue",on:{click:function(e){return t.uploadDataRemove(a.dataid)}}},[t._v("remove")]):t._e()]),t._v(" "),e("td",[e("button",{staticClass:"btn small bg-gold",on:{click:function(e){return t.detail(a.dataid)}}},[t._v("Detail")])])])])]),t._v(" "),e("div",{staticClass:"tbl",staticStyle:{display:"none"},attrs:{detailTbl:"details",id:"details_"+a.dataid}},[e("table",[e("caption",[t._v("상세 정보")]),t._v(" "),t._m(0,!0),t._v(" "),e("tbody",[t._m(1,!0),t._v(" "),e("tr",[e("th",[t._v("title")]),t._v(" "),e("td",[t._v(t._s(a.title))])]),t._v(" "),e("tr",[e("th",[t._v("Data Origin")]),t._v(" "),e("td",[t._v(t._s(a.dataOrigin))])]),t._v(" "),e("tr",[e("th",[t._v("Period")]),t._v(" "),e("td",[t._v(t._s(a.period))])]),t._v(" "),e("tr",[e("th",[t._v("Fomat")]),t._v(" "),e("td",[t._v(t._s(a.format))])]),t._v(" "),"traded"==t.type?e("tr",[e("th",[t._v("TXID")]),t._v(" "),e("td",[t._v("TXID")])]):t._e(),t._v(" "),e("tr",[e("th",[t._v("Expiry Date")]),t._v(" "),e("td",[t._v(t._s(a.expirydate))])])])])])]):t._e()}),t._v(" "),t.myDataList.length<1?e("div",{staticClass:"tbl skyblue"},[e("table",[e("caption",[t._v("기본 정보")]),t._v(" "),e("colgroup",[e("col",{staticStyle:{width:"14%"}}),t._v(" "),"traded"==t.type?e("col",{staticStyle:{width:"10%"}}):t._e(),t._v(" "),e("col",{staticStyle:{width:"16%"}}),t._v(" "),e("col",{staticStyle:{width:"10%"}}),t._v(" "),e("col",{staticStyle:{width:"14%"}}),t._v(" "),e("col",{staticStyle:{width:"16%"}}),t._v(" "),e("col",{staticStyle:{width:"*"}})]),t._v(" "),e("thead",[e("tr",[e("th",[t._v("Type")]),t._v(" "),"traded"==t.type?e("th",[t._v("Provider")]):t._e(),t._v(" "),e("th",[t._v("DateTime")]),t._v(" "),e("th",[t._v("Price(OSB)")]),t._v(" "),e("th",[t._v("Traded")]),t._v(" "),e("th",[t._v("Traded Date")]),t._v(" "),e("th",[t._v("Status")])])]),t._v(" "),t._m(2)])]):t._e()],2)]),t._v(" "),e("iframe",{staticStyle:{visibility:"hidden"},attrs:{id:"fileDown",src:"",width:"1",height:"1"}})])},staticRenderFns:[function(){var t=this.$createElement,a=this._self._c||t;return a("colgroup",[a("col",{staticStyle:{width:"100px"}}),this._v(" "),a("col",{staticStyle:{width:"*"}})])},function(){var t=this.$createElement,a=this._self._c||t;return a("tr",[a("th",{attrs:{colspan:"2"}},[this._v("Metadata Info")])])},function(){var t=this.$createElement,a=this._self._c||t;return a("tbody",[a("tr",[a("td",{staticClass:"nodata",attrs:{colspan:"7"}},[this._v("NO DATA")])])])}]},r=e("VU/8")(d,c,!1,null,null,null);a.default=r.exports}});
//# sourceMappingURL=5.2c835f66bb22d607202e.js.map